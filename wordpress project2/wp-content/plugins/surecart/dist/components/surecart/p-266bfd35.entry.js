import{r as i,h as o,a as d}from"./p-cc7ce8c7.js";import{o as l,s}from"./p-caaec0f6.js";import{g as t,s as a}from"./p-a73ceb2b.js";import"./p-25433d0f.js";import"./p-d5a52441.js";import"./p-a3ae8411.js";import"./p-09484d0e.js";import"./p-86121117.js";import"./p-e173b5aa.js";import"./p-7ef0f71c.js";import"./p-1c2e2695.js";import"./p-4d73f82a.js";import"./p-18e45a13.js";import"./p-dc169b96.js";const e=":host{display:block}sc-dialog{--body-spacing:var(--sc-spacing-xx-large);color:var(--sc-color-gray-600);text-decoration:none;font-size:16px}.dialog__header{display:flex;align-items:center;gap:var(--sc-spacing-medium)}.dialog__header-text{line-height:var(--sc-line-height-dense)}.dialog__image img{width:60px;height:60px;display:block}.dialog__action{font-weight:var(--sc-font-weight-bold)}.dialog__product-name{font-size:var(--sc-font-size-small)}";const n=class{constructor(o){i(this,o);this.buttonText=undefined;this.addToCart=undefined}submit(){var i,o;if(!this.addToCart){const d=(o=(i=window===null||window===void 0?void 0:window.scData)===null||i===void 0?void 0:i.pages)===null||o===void 0?void 0:o.checkout;if(!d)return;return window.location.assign(t(d))}a()}componentWillLoad(){l("dialog",(()=>{setTimeout((()=>{var i;(i=this.priceInput)===null||i===void 0?void 0:i.triggerFocus()}),50)}))}render(){var i,d,l,t,a,e,n,r,c;if(!((i=s===null||s===void 0?void 0:s.selectedPrice)===null||i===void 0?void 0:i.ad_hoc)){return null}return o("sc-dialog",{open:s.dialog===((this===null||this===void 0?void 0:this.addToCart)?"ad_hoc_cart":"ad_hoc_buy"),onScRequestClose:()=>s.dialog=null},o("span",{class:"dialog__header",slot:"label"},!!((d=s===null||s===void 0?void 0:s.product)===null||d===void 0?void 0:d.image_url)&&o("div",{class:"dialog__image"},o("img",{src:(l=s===null||s===void 0?void 0:s.product)===null||l===void 0?void 0:l.image_url})),o("div",{class:"dialog__header-text"},o("div",{class:"dialog__action"},wp.i18n.__("Enter An Amount","surecart")),o("div",{class:"dialog__product-name"},(t=s===null||s===void 0?void 0:s.product)===null||t===void 0?void 0:t.name))),o("sc-form",{onScSubmit:i=>{i.stopImmediatePropagation();this.submit()},onScFormSubmit:i=>i.stopImmediatePropagation()},o("sc-price-input",{ref:i=>this.priceInput=i,value:(e=(a=s.adHocAmount)===null||a===void 0?void 0:a.toString)===null||e===void 0?void 0:e.call(a),"currency-code":(n=s===null||s===void 0?void 0:s.selectedPrice)===null||n===void 0?void 0:n.currency,min:(r=s===null||s===void 0?void 0:s.selectedPrice)===null||r===void 0?void 0:r.ad_hoc_min_amount,max:(c=s===null||s===void 0?void 0:s.selectedPrice)===null||c===void 0?void 0:c.ad_hoc_max_amount,onScInput:i=>s.adHocAmount=parseInt(i.target.value),required:true}),o("sc-button",{type:"primary",full:true,submit:true,busy:s.busy},o("slot",null,this.buttonText||wp.i18n.__("Add To Cart","surecart")))))}get el(){return d(this)}};n.style=e;export{n as sc_product_price_modal};
//# sourceMappingURL=p-266bfd35.entry.js.map
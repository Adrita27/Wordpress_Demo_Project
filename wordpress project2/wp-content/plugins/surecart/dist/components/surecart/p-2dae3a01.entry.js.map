{"version":3,"names":["scProductQuantityCss","id","ScProductQuantity","this","inputId","helpId","labelId","render","maxStockQuantity","getMaxStockQuantity","state","product","selectedVariant","h","Host","exportparts","size","required","label","showLabel","help","name","quantity","Math","max","_a","selectedPrice","ad_hoc","disabled","_b","onScInput","e","detail"],"sources":["./src/components/controllers/product/sc-product-quantity/sc-product-quantity.css?tag=sc-product-quantity&encapsulation=shadow","./src/components/controllers/product/sc-product-quantity/sc-product-quantity.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Prop } from '@stencil/core';\nimport { state } from '@store/product';\nimport { getMaxStockQuantity } from '../../../../functions/quantity';\nlet id = 0;\n\n@Component({\n  tag: 'sc-product-quantity',\n  styleUrl: 'sc-product-quantity.css',\n  shadow: true,\n})\nexport class ScProductQuantity {\n  private inputId: string = `sc-quantity-${++id}`;\n  private helpId = `sc-quantity-help-text-${id}`;\n  private labelId = `sc-quantity-label-${id}`;\n\n  /** Size of the control */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  /** Name for the input. Used for validation errors. */\n  @Prop() name: string;\n\n  /** Display server-side validation errors. */\n  @Prop() errors: any;\n\n  /** Show the label. */\n  @Prop() showLabel: boolean = true;\n\n  /** Input label. */\n  @Prop() label: string;\n\n  /** Whether the input is required. */\n  @Prop() required: boolean = false;\n\n  /** Help text */\n  @Prop() help: string;\n\n  render() {\n    const maxStockQuantity = getMaxStockQuantity(state?.product, state?.selectedVariant);\n\n    return (\n      <Host>\n        <sc-form-control\n          exportparts=\"label, help-text, form-control\"\n          size={this.size}\n          required={this.required}\n          label={this.label}\n          showLabel={this.showLabel}\n          help={this.help}\n          inputId={this.inputId}\n          helpId={this.helpId}\n          labelId={this.labelId}\n          name={this.name}\n        >\n          <sc-quantity-select\n            size={this.size}\n            quantity={Math.max(state.selectedPrice?.ad_hoc ? 1 : state.quantity, 1)}\n            disabled={state.selectedPrice?.ad_hoc}\n            onScInput={e => (state.quantity = e.detail)}\n            {...(!!maxStockQuantity ? { max: maxStockQuantity } : {})}\n          />\n        </sc-form-control>\n      </Host>\n    );\n  }\n}\n"],"mappings":"0NAAA,MAAMA,EAAuB,uBCG7B,IAAIC,EAAK,E,MAOIC,EAAiB,M,yBACpBC,KAAAC,QAAkB,iBAAiBH,IACnCE,KAAAE,OAAS,yBAAyBJ,IAClCE,KAAAG,QAAU,qBAAqBL,I,UAGuB,S,yDASjC,K,mCAMD,M,oBAK5BM,S,QACE,MAAMC,EAAmBC,EAAoBC,IAAK,MAALA,SAAK,SAALA,EAAOC,QAASD,IAAK,MAALA,SAAK,SAALA,EAAOE,iBAEpE,OACEC,EAACC,EAAI,KACHD,EAAA,mBACEE,YAAY,iCACZC,KAAMb,KAAKa,KACXC,SAAUd,KAAKc,SACfC,MAAOf,KAAKe,MACZC,UAAWhB,KAAKgB,UAChBC,KAAMjB,KAAKiB,KACXhB,QAASD,KAAKC,QACdC,OAAQF,KAAKE,OACbC,QAASH,KAAKG,QACde,KAAMlB,KAAKkB,MAEXR,EAAA,sBACEG,KAAMb,KAAKa,KACXM,SAAUC,KAAKC,MAAIC,EAAAf,EAAMgB,iBAAa,MAAAD,SAAA,SAAAA,EAAEE,QAAS,EAAIjB,EAAMY,SAAU,GACrEM,UAAUC,EAAAnB,EAAMgB,iBAAa,MAAAG,SAAA,SAAAA,EAAEF,OAC/BG,UAAWC,GAAMrB,EAAMY,SAAWS,EAAEC,YAC7BxB,EAAmB,CAAEgB,IAAKhB,GAAqB,M"}
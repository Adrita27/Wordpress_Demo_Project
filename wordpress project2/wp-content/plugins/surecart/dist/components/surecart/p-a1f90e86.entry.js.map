{"version":3,"names":["scAlertCss","ScAlert","Infinity","async","this","open","restartAutoHide","clearTimeout","autoHideTimeout","duration","setTimeout","hide","handleMouseMove","handleCloseClick","handleOpenChange","scShow","emit","scHide","scrollOnOpen","el","scrollIntoView","behavior","componentDidLoad","iconName","type","icon","h","name","render","Host","style","scrollMargin","class","alert","isRtl","part","role","hidden","onMouseMove","title","closable","onClick","xmlns","viewBox","fill","d","iconFiles","Map","requestIcon","url","has","get","request","fetch","then","response","ok","div","document","createElement","innerHTML","text","svg","firstElementChild","status","tagName","toLowerCase","outerHTML","set","scIconCss","LABEL_MAPPINGS","wp","i18n","__","parser","DOMParser"],"sources":["./src/components/ui/alert/sc-alert.scss?tag=sc-alert&encapsulation=shadow","./src/components/ui/alert/sc-alert.tsx","./src/components/ui/icon/request.ts","./src/components/ui/icon/sc-icon.css?tag=sc-icon&encapsulation=shadow","./src/components/ui/icon/sc-icon.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n[hidden] {\n  display: none !important;\n}\n\n::slotted(*:not(:first-child)) {\n  margin-top: 0.5rem;\n  margin-bottom: 0;\n}\n\n::slotted(ul) {\n  line-height: 1.4em;\n  list-style-type: disc;\n  margin: 0;\n  padding: 0;\n  padding-left: 20px;\n}\n\n.alert {\n  font-family: var(--sc-input-font-family);\n  font-weight: var(--sc-font-weight-normal);\n  font-size: var(--sc-button-font-size-medium);\n  line-height: var(--sc-line-height-dense);\n  border-radius: var(--sc-alert-border-radius, var(--sc-border-radius-medium));\n  padding: var(--sc-spacing-large);\n  display: flex;\n  align-items: flex-start;\n  border: var(--sc-alert-border, var(--sc-input-border));\n  border-top: solid var(--sc-alert-border-width, 3px);\n  color: var(--sc-alert-color, var(--sc-input-label-color));\n  background: var(--sc-alert-background-color, var(--sc-color-white));\n  box-shadow: var(--sc-shadow-small);\n\n  &__text {\n    flex: 1;\n  }\n\n  &.alert--primary {\n    border-top-color: var(--sc-alert-primary-border-color, var(--sc-color-primary-500));\n    a {\n      color: var(--sc-color-primary-900);\n    }\n    .alert__title {\n      color: var(--sc-alert-title-color, var(--sc-color-gray-800));\n    }\n    .alert__icon {\n      color: var(--sc-alert-primary-icon-color, var(--sc-color-primary-500));\n    }\n  }\n  &.alert--info {\n    border-top-color: var(--sc-alert-info-border-color, var(--sc-color-info-500));\n    a {\n      color: var(--sc-color-info-900);\n    }\n    .alert__title {\n      color: var(--sc-alert-title-color, var(--sc-color-gray-800));\n    }\n    .alert__icon {\n      color: var(--sc-alert-info-icon-color, var(--sc-color-info-500));\n    }\n  }\n  &.alert--danger {\n    border-top-color: var(--sc-alert-danger-border-color, var(--sc-color-danger-500));\n    a {\n      color: var(--sc-color-danger-900);\n    }\n    .alert__title {\n      color: var(--sc-alert-title-color, var(--sc-color-gray-800));\n    }\n    .alert__icon {\n      color: var(--sc-alert-danger-icon-color, var(--sc-color-danger-500));\n    }\n  }\n  &.alert--warning {\n    border-top-color: var(--sc-alert-warning-border-color, var(--sc-color-warning-500));\n    a {\n      color: var(--sc-color-warning-900);\n    }\n    .alert__title {\n      color: var(--sc-alert-title-color, var(--sc-color-gray-800));\n    }\n    .alert__icon {\n      color: var(--sc-alert-warning-icon-color, var(--sc-color-warning-500));\n    }\n  }\n  &.alert--success {\n    border-top-color: var(--sc-alert-success-border-color, var(--sc-color-success-500));\n    a {\n      color: var(--sc-color-success-900);\n    }\n    .alert__title {\n      color: var(--sc-alert-title-color, var(--sc-color-gray-800));\n    }\n    .alert__icon {\n      color: var(--sc-alert-success-icon-color, var(--sc-color-success-500));\n    }\n  }\n}\n\n.alert__icon {\n  flex: 1;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  font-size: var(--sc-font-size-large);\n  padding-inline-end: var(--sc-spacing-medium);\n}\n\n.alert__title {\n  font-weight: var(--sc-font-weight-semibold);\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n.alert__close {\n  transition: background-color var(--sc-transition-fast) ease;\n  display: inline-flex;\n  border-radius: var(--sc-border-radius-small);\n  padding: var(--sc-spacing-x-small);\n  margin-left: auto;\n  cursor: pointer;\n  svg {\n    width: 1em;\n    height: 1em;\n  }\n}\n\n.alert--is-rtl {\n  text-align: right;\n\n  &.alert-close {\n    margin-right: auto;\n    margin-left: unset;\n  }\n\n  ::slotted(ul) {\n    margin: 0;\n    padding: 0;\n    padding-right: 20px;\n  }\n}\n","import { Component, Prop, Method, State, Event, EventEmitter, Watch, h, Element, Host } from '@stencil/core';\nimport { isRtl } from '../../../functions/page-align';\n\n/**\n * @part base - The elements base wrapper.\n * @part icon - The alert icon.\n * @part text - The alert text.\n * @part title - The alert title.\n * @part message - The alert message.\n * @part close - The close icon.\n */\n@Component({\n  tag: 'sc-alert',\n  styleUrl: 'sc-alert.scss',\n  shadow: true,\n})\nexport class ScAlert {\n  @Element() el: HTMLScAlertElement;\n\n  /** Indicates whether or not the alert is open. You can use this in lieu of the show/hide methods. */\n  @Prop({ reflect: true, mutable: true }) open: boolean = false;\n\n  /** The title. */\n  @Prop() title: string;\n\n  /** Makes the alert closable. */\n  @Prop({ reflect: true }) closable: boolean = false;\n\n  /** The type of alert. */\n  @Prop({ reflect: true }) type: 'primary' | 'success' | 'info' | 'warning' | 'danger' = 'primary';\n\n  /**\n   * The length of time, in milliseconds, the alert will show before closing itself. If the user interacts with\n   * the alert before it closes (e.g. moves the mouse over it), the timer will restart. Defaults to `Infinity`.\n   */\n  @Prop() duration: number = Infinity;\n\n  /** Scroll into view. */\n  @Prop() scrollOnOpen: boolean;\n\n  /** Scroll margin */\n  @Prop() scrollMargin: string = '0px';\n\n  /** No icon */\n  @Prop() noIcon: boolean;\n\n  @State() autoHideTimeout: any;\n\n  /** When alert is hidden */\n  @Event() scHide: EventEmitter<void>;\n\n  /** When alert is shown */\n  @Event() scShow: EventEmitter<void>;\n\n  /** Shows the alert. */\n  @Method()\n  async show() {\n    if (this.open) {\n      return;\n    }\n    this.open = true;\n  }\n\n  /** Hides the alert */\n  @Method()\n  async hide() {\n    if (!this.open) {\n      return;\n    }\n    this.open = false;\n  }\n\n  restartAutoHide() {\n    clearTimeout(this.autoHideTimeout);\n    if (this.open && this.duration < Infinity) {\n      this.autoHideTimeout = setTimeout(() => this.hide(), this.duration);\n    }\n  }\n\n  handleMouseMove() {\n    this.restartAutoHide();\n  }\n\n  handleCloseClick() {\n    this.hide();\n  }\n\n  /** Emit event when showing or hiding changes */\n  @Watch('open')\n  handleOpenChange() {\n    this.open ? this.scShow.emit() : this.scHide.emit();\n    if (this.open && this.scrollOnOpen) {\n      this.el.scrollIntoView({ behavior: 'smooth' });\n    }\n  }\n\n  componentDidLoad() {\n    this.handleOpenChange();\n  }\n\n  iconName() {\n    switch (this.type) {\n      case 'danger':\n        return 'alert-circle';\n      case 'success':\n        return 'check-circle';\n      case 'warning':\n        return 'alert-triangle';\n      default:\n        return 'info';\n    }\n  }\n\n  icon() {\n    return <sc-icon name={this.iconName()} />;\n  }\n\n  render() {\n    return (\n      <Host style={{ 'scroll-margin-top': this.scrollMargin }}>\n        <div\n          class={{\n            'alert': true,\n            'alert--primary': this.type === 'primary',\n            'alert--success': this.type === 'success',\n            'alert--info': this.type === 'info',\n            'alert--warning': this.type === 'warning',\n            'alert--danger': this.type === 'danger',\n            'alert--is-rtl':isRtl()\n          }}\n          part=\"base\"\n          role=\"alert\"\n          aria-live=\"assertive\"\n          aria-atomic=\"true\"\n          aria-hidden={this.open ? 'false' : 'true'}\n          hidden={this.open ? false : true}\n          onMouseMove={() => this.handleMouseMove()}\n        >\n          <div class=\"alert__icon\" part=\"icon\">\n            <slot name=\"icon\">{this.icon()}</slot>\n          </div>\n          <div class=\"alert__text\" part=\"text\">\n            <div class=\"alert__title\" part=\"title\">\n              <slot name=\"title\">{this.title}</slot>\n            </div>\n            <div class=\"alert__message\" part=\"message\">\n              <slot />\n            </div>\n          </div>\n          {this.closable && (\n            <span part=\"close\" class=\"alert__close\" onClick={() => this.handleCloseClick()}>\n              <span class=\"sr-only\">Dismiss</span>\n              <svg class=\"h-5 w-5\" x-description=\"Heroicon name: solid/x\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                  clip-rule=\"evenodd\"\n                ></path>\n              </svg>\n            </span>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","interface IconFile {\n  ok: boolean;\n  status: number;\n  svg: string;\n}\n\nconst iconFiles = new Map<string, Promise<IconFile>>();\n\nexport const requestIcon = (url: string) => {\n  if (iconFiles.has(url)) {\n    return iconFiles.get(url);\n  } else {\n    const request = fetch(url).then(async response => {\n      if (response.ok) {\n        const div = document.createElement('div');\n        div.innerHTML = await response.text();\n        const svg = div.firstElementChild;\n\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: svg && svg.tagName.toLowerCase() === 'svg' ? svg.outerHTML : '',\n        };\n      } else {\n        return {\n          ok: response.ok,\n          status: response.status,\n          svg: null,\n        };\n      }\n    }) as Promise<IconFile>;\n\n    iconFiles.set(url, request);\n    return request;\n  }\n};\n",":host {\n  --width: 1em;\n  --height: 1em;\n  display: inline-block;\n  width: var(--width);\n  height: var(--height);\n  contain: strict;\n  box-sizing: content-box !important;\n}\n.icon,\nsvg {\n  display: block;\n  height: 100%;\n  width: 100%;\n  stroke-width: var(--sc-icon-stroke-width, 2px);\n}\n","import { Component, Watch, h, Prop, State, Event, EventEmitter } from '@stencil/core';\nimport { getIconLibrary } from './library';\nimport { requestIcon } from './request';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * The icon's label used for accessibility.\n */\nconst LABEL_MAPPINGS = {\n  'chevron-down': __('Open', 'surecart'),\n  'chevron-up': __('Close', 'surecart'),\n  'chevron-right': __('Next', 'surecart'),\n  'chevron-left': __('Previous', 'surecart'),\n  'arrow-right': __('Next', 'surecart'),\n  'arrow-left': __('Previous', 'surecart'),\n  'arrow-down': __('Down', 'surecart'),\n  'arrow-up': __('Up', 'surecart'),\n  'alert-circle': __('Alert', 'surecart'),\n};\n\nconst parser = new DOMParser();\n\n@Component({\n  tag: 'sc-icon',\n  styleUrl: 'sc-icon.css',\n  assetsDirs: ['icon-assets'],\n  shadow: true,\n})\nexport class ScIcon {\n  @State() private svg = '';\n\n  /** The name of the icon to draw. */\n  @Prop({ reflect: true }) name: string;\n\n  /** An external URL of an SVG file. */\n  @Prop() src: string;\n\n  /** An alternative description to use for accessibility. If omitted, the name or src will be used to generate it. */\n  @Prop() label: string;\n\n  /** The name of a registered custom icon library. */\n  @Prop() library = 'default';\n\n  /** Emitted when the icon has loaded. */\n  @Event() scLoad: EventEmitter<void>;\n\n  /** @internal Fetches the icon and redraws it. Used to handle library registrations. */\n  redraw() {\n    this.setIcon();\n  }\n\n  componentWillLoad() {\n    this.setIcon();\n  }\n\n  getLabel() {\n    let label = '';\n    if (this.label) {\n      label = LABEL_MAPPINGS?.[this.label] || this.label;\n    } else if (this.name) {\n      label = (LABEL_MAPPINGS?.[this.name] || this.name).replace(/-/g, ' ');\n    } else if (this.src) {\n      label = this.src.replace(/.*\\//, '').replace(/-/g, ' ').replace(/\\.svg/i, '');\n    }\n\n    return label;\n  }\n\n  @Watch('name')\n  @Watch('src')\n  @Watch('library')\n  async setIcon() {\n    const library = getIconLibrary(this.library);\n    const url = this.getUrl();\n    if (url) {\n      try {\n        const file = await requestIcon(url)!;\n        if (url !== this.getUrl()) {\n          // If the url has changed while fetching the icon, ignore this request\n          return;\n        } else if (file.ok) {\n          const doc = parser.parseFromString(file.svg, 'text/html');\n          const svgEl = doc.body.querySelector('svg');\n\n          if (svgEl) {\n            if (library && library.mutator) {\n              library.mutator(svgEl);\n            }\n\n            this.svg = svgEl.outerHTML;\n            this.scLoad.emit();\n          } else {\n            this.svg = '';\n            console.error({ status: file?.status });\n          }\n        } else {\n          this.svg = '';\n          console.error({ status: file?.status });\n        }\n      } catch {\n        console.error({ status: -1 });\n      }\n    } else if (this.svg) {\n      // If we can't resolve a URL and an icon was previously set, remove it\n      this.svg = '';\n    }\n  }\n\n  private getUrl(): string {\n    const library = getIconLibrary(this.library);\n    if (this.name && library) {\n      return library.resolver(this.name);\n    } else {\n      return this.src;\n    }\n  }\n\n  render() {\n    return <div part=\"base\" class=\"icon\" role=\"img\" aria-label={this.getLabel()} innerHTML={this.svg}></div>;\n  }\n}\n"],"mappings":"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"}
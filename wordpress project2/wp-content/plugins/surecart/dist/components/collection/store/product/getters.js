var _a,_b;import state from"./store";import{isProductVariantOptionMissing,isProductVariantOptionSoldOut}from"@store/utils";import{getVariantFromValues}from"../../functions/util";export const availablePrices=()=>(state.prices||[]).filter((t=>!(null==t?void 0:t.archived))).sort(((t,o)=>(null==t?void 0:t.position)-(null==o?void 0:o.position)));export const isStockNeedsToBeChecked=!(!(null===(_a=state.product)||void 0===_a?void 0:_a.stock_enabled)||(null===(_b=state.product)||void 0===_b?void 0:_b.allow_out_of_stock_purchases));export const isOptionSoldOut=(t,o)=>isProductVariantOptionSoldOut(t,o,state.variantValues,state.product);export const isOptionMissing=(t,o)=>isProductVariantOptionMissing(t,o,state.variantValues,state.product);export const isProductOutOfStock=()=>{var t,o;return!!isStockNeedsToBeChecked&&((null==state?void 0:state.selectedVariant)?(null===(o=state.selectedVariant)||void 0===o?void 0:o.available_stock)<=0:(null===(t=state.product)||void 0===t?void 0:t.available_stock)<=0)};export const isSelectedVariantMissing=()=>{var t,o;return!!(null===(t=state.variants)||void 0===t?void 0:t.length)&&void 0===(null===(o=getVariantFromValues({variants:state.variants,values:state.variantValues}))||void 0===o?void 0:o.id)};